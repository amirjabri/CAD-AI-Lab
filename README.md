# AeroForge-Impactor (CAD-AI-Lab)

Parametric CAD design for a **4¬µm Aerodynamic Impactor**, generated entirely using Python (`build123d`).

This device is designed to fit inside a standard **37mm sampling cassette**. It separates respirable particles (smaller than 4¬µm) from larger particles using inertial impaction.

## üöÄ Key Features

*   **Parametric Physics Engine**: The code automatically calculates the required nozzle diameter based on your target flow rate (4 LPM) and cut-point (4¬µm).
*   **Anti-Spill "Lobster Pot" Cup**: The collection cup features a conical inward-facing lip. This allows particles to enter but prevents powder from spilling out if the device is tipped or inverted.
*   **Standard Compatibility**: Designed to drop into a standard 3-piece 37mm cassette (SKC/Zefon style).
*   **Dual-Viewer Ready**: View your design instantly in both VS Code and your Web Browser.

---

## üìê How It Works

### 1. The Physics (Inertial Impaction)
The design script (`design_4um_impactor.py`) uses **Stokes' Law** to calculate the nozzle geometry.
*   **Concept**: Air is accelerated through a nozzle. Heavy particles cannot make the sharp turn at the bottom and impact into the cup. Light particles follow the air stream out to the filter.
*   **Calculation**:
    *   Target: **4.0 ¬µm** cut-point at **4.0 LPM**.
    *   The script solves for the **Nozzle Diameter** required to achieve a **Stokes Number (Stk)** of 0.24 (the classic impaction constant).
    *   *Current Result:* ~3.26mm Nozzle Diameter.

### 2. The Anti-Spill Cup
Traditional impactors lose their sample if you tip them over. This design uses a **tapered rim**:
*   **Wide Base (20mm)**: Large capacity for collecting dust.
*   **Narrow Opening (9mm)**: The top rim constricts around the nozzle.
*   **Function**: Like a lobster trap, dust enters easily but gets trapped under the lip if the device is tipped, preventing data loss during handling.

### 3. Spoke Suspension
The collection cup is suspended in the center of the air stream by **3 aerodynamic spokes**. These are calculated to bridge the gap between the Cup OD (22mm) and the Cassette ID (38mm) without interfering with the housing wall.

---

## üõ†Ô∏è Usage

### Installation
```bash
pip install build123d ocp-vscode
```

### Running the Design
To generate the model and view it:

```bash
python design_4um_impactor.py
```

### üñ•Ô∏è Viewing the Model (Dual-View)
This project is configured to broadcast the 3D model to **two locations simultaneously**:

1.  **VS Code Extension**: If you have the `OCP CAD Viewer` extension installed, the model appears in the "OCP" tab.
2.  **Web Browser**: The script also talks to a standalone viewer.
    *   Run the viewer in a separate terminal: `python -m ocp_vscode --port 3940`
    *   Open **http://127.0.0.1:3940** in your browser.

## üìÇ File Structure

*   `design_4um_impactor.py`: **Main Design Script**. Contains all physics math and geometry logic.
*   `viewer_setup.py`: Helper script that handles the connection to the OCP viewers (ports 3939 & 3940).
*   `*.stl`: Generated 3D printable files (Nozzle, Middle Section).

---
*Generated by Google DeepMind's Agentic Coding Assistant.*
